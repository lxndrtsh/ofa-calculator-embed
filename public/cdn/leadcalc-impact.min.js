!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";!function(){const e={iframeBase:("undefined"!=typeof window?window.location.origin:"")+"",theme:"light",configVersion:"1.0.0",referralCookie:"referral"};window.OFACalculator={init:function(t,n){const i={...e,...n},o=function(e){if("string"==typeof e){const t=document.getElementById(e);if(!t)throw new Error(`OFACalculator: container #${e} not found`);return t}return e}(t);if(o.querySelector("iframe"))return void console.warn("OFACalculator: container already initialized, skipping");const r=document.createElement("div");r.style.position="relative",r.style.width="100%";const a=document.createElement("iframe");a.title="OFA Calculator Widget",a.allow="clipboard-write",a.loading="lazy",a.style.width="1px",a.style.minWidth="100%",a.style.border="0",a.style.display="block";const c=new URL(`${i.iframeBase.replace(/\/$/,"")}/embed/impact`);c.searchParams.set("v",String(i.configVersion)),c.searchParams.set("theme",String(i.theme)),a.src=c.toString(),r.appendChild(a),o.appendChild(r);const l=function(e){const t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([$()*+./?[\\\\]^{|}])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):null}(i.referralCookie);window.addEventListener("message",function(e){const t=new URL(i.iframeBase).origin;if(e.origin===t&&("OFA_CALCULATOR_READY"===(e.data&&e.data.type)&&a.contentWindow?.postMessage({type:"OFA_CALCULATOR_BOOT",payload:{apiBase:i.apiBase,configVersion:String(i.configVersion),theme:i.theme,referralToken:l??null}},t),"OFA_CALCULATOR_RESIZE"===(e.data&&e.data.type))){const t=Number(e.data.height||0);t>0&&(a.style.height=`${t}px`)}})}}}()});
//# sourceMappingURL=leadcalc-impact.min.js.map
